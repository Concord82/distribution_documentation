# Изменению пароля mongodb для Логин Центра Optimacros:

Для изменения пароля mongodb, для начала перейдём в директорию Логин Центра с помощью команды:

`cd /opt/om/login-center/`

Затем выполняем слудеющие команды:

`docker exec -it optimacros_db /bin/bash`
`mongo --port 27017 -u OLD_USERNAME -p  --authenticationDatabase 'admin'`

Где OLD_USERNAME это старое (текущее) имя пользователя. Затем нужно будет ввести старый пароль.

После этого вводим команду:

`use admin`

Затем для смены только пароля вводим:

`db.updateUser("OLD_USERNAME", { pwd: "NEW_PASSWORD" })`

Где OLD_USERNAME это старое (текущее) имя пользователя, а NEW_PASSWORD новый пароль.

для смены и имени пользозвателя и пароля вводим:

`db.createUser("NEW_USERNAME", { pwd: "NEW_PASSWORD", roles: [{role:"root", db:"admin"}] })`

после чего вводим команду:

`exit`

Затем т.к. мы находимся в директории Логин Центра, мы можем прямо в этой директории обновить файл .ENV, вводим команду:

`nano .env`

Изменяем на новые значения DB_USERNAME в случае смены имени пользователя и DB_PASSWORD в случае смены пароля 
соответственно.

После чего нам остаётся только перезапустить логин центр, с помощью последовательно введённых команд:

`./om stop app`
`./om start app`

На этом процедура окончена.


![](./pictures/controlCheck.jpg)

На этом озменению пароля mongodb для Логин Центра завершено.

[Вернуться к содержанию <](contents.md)

[Вернуться к оглавлению <<](index.md)
